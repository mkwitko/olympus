<app-my-header title="Amigos"></app-my-header>

<ion-content>
  <ion-segment
  [value]="segment"
  color="primary"
  mode="ios"
  (ionChange)="segmentChanged($event)">
    <ion-segment-button [value]="segments[0]">
      <ion-label>Amigos</ion-label>
    </ion-segment-button>
    <ion-segment-button [value]="segments[1]">
      <ion-label>Solicitações</ion-label>
    </ion-segment-button>
  </ion-segment>

  <ng-container *ngIf="segment === segments[0]">

    <ng-container *ngIf="userClass.myInfo">

      <ng-container *ngIf="userClass.friends.length === 0">

      </ng-container>

      <ng-container *ngIf="userClass.friends.length > 0">
        <ion-list>
          <ion-item-sliding class="ion-margin-top" *ngFor="let item of userClass.friends">
            <ion-item>
              <ion-label>{{item.userName}}</ion-label>
            </ion-item>
            <ion-item-options side="end">
              <ion-item-option color="danger" (click)="presentAlertConfirm(item.id)">Excluir</ion-item-option>
            </ion-item-options>

            <ion-item-options side="start">
              <ion-item-option (click)="callChat(item.id)">Chat</ion-item-option>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>
      </ng-container>


    </ng-container>


  </ng-container>

  <ng-container *ngIf="segment === segments[1]">

    <ng-container *ngIf="userClass.myInfo">

      <ng-container *ngIf="userClass.friendsRequests.length === 0">

      </ng-container>

      <ng-container *ngIf="userClass.friendsRequests.length > 0">
        <ion-list>
          <ion-item *ngFor="let item of userClass.friendsRequests">
            <ion-label>{{item.userName}}</ion-label>
            <ion-button (click)="accept(item.id)" expand="block" fill="clear" shape="round">
              <ion-label color="tertiary">Aceitar</ion-label>
            </ion-button>
            <ion-button (click)="reject(item.id)" expand="block" fill="clear" shape="round">
              <ion-label color="danger">Rejeitar</ion-label>
            </ion-button>
          </ion-item>
        </ion-list>
      </ng-container>

    </ng-container>


  </ng-container>

  <app-fab-bottom-right url="friends-crud"></app-fab-bottom-right>

</ion-content>
